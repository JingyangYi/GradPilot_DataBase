2025-08-01 15:43:48 [scrapy.utils.log] INFO: Scrapy 2.11.1 started (bot: program_crawler)
2025-08-01 15:43:48 [scrapy.utils.log] INFO: Versions: lxml 4.9.3.0, libxml2 2.10.3, cssselect 1.2.0, parsel 1.8.1, w3lib 2.1.2, Twisted 23.10.0, Python 3.12.7 | packaged by Anaconda, Inc. | (main, Oct  4 2024, 08:22:19) [Clang 14.0.6 ], pyOpenSSL 24.2.1 (OpenSSL 3.0.15 3 Sep 2024), cryptography 43.0.0, Platform macOS-15.5-arm64-arm-64bit
2025-08-01 15:43:48 [program_spider] INFO: 尝试加载CSV文件: /Users/yijingyang/Library/CloudStorage/OneDrive-个人/GradPilot/ProgramDB/crawl/test_urls.csv
2025-08-01 15:43:48 [program_spider] INFO: 文件是否存在: True
2025-08-01 15:43:48 [program_spider] INFO: 
================================================================================
2025-08-01 15:43:48 [program_spider] INFO: 成功加载 1 个项目
2025-08-01 15:43:48 [program_spider] INFO: 允许的域名: ['www.manchester.ac.uk']
2025-08-01 15:43:48 [program_spider] INFO: 将按顺序逐个项目进行爬取
2025-08-01 15:43:48 [program_spider] INFO: ================================================================================
2025-08-01 15:43:48 [scrapy.addons] INFO: Enabled addons:
[]
2025-08-01 15:43:48 [py.warnings] WARNING: /opt/anaconda3/lib/python3.12/site-packages/scrapy/utils/request.py:254: ScrapyDeprecationWarning: '2.6' is a deprecated value for the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting.

It is also the default value. In other words, it is normal to get this warning if you have not defined a value for the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting. This is so for backward compatibility reasons, but it will change in a future version of Scrapy.

See the documentation of the 'REQUEST_FINGERPRINTER_IMPLEMENTATION' setting for information on how to handle this deprecation.
  return cls(crawler)

2025-08-01 15:43:48 [scrapy.middleware] INFO: Enabled extensions:
['scrapy.extensions.corestats.CoreStats',
 'scrapy.extensions.memusage.MemoryUsage',
 'scrapy.extensions.logstats.LogStats',
 'scrapy.extensions.throttle.AutoThrottle']
2025-08-01 15:43:48 [scrapy.crawler] INFO: Overridden settings:
{'AUTOTHROTTLE_ENABLED': True,
 'AUTOTHROTTLE_MAX_DELAY': 10,
 'AUTOTHROTTLE_START_DELAY': 2,
 'BOT_NAME': 'program_crawler',
 'CONCURRENT_REQUESTS': 20,
 'CONCURRENT_REQUESTS_PER_DOMAIN': 5,
 'DEPTH_LIMIT': 2,
 'DOWNLOAD_DELAY': 2,
 'DOWNLOAD_TIMEOUT': 30,
 'LOG_FILE': 'log/crawl_test_20250801_154348.log',
 'LOG_LEVEL': 'INFO',
 'NEWSPIDER_MODULE': 'program_crawler.spiders',
 'RANDOMIZE_DOWNLOAD_DELAY': 0.8,
 'RETRY_TIMES': 3,
 'SPIDER_MODULES': ['program_crawler.spiders'],
 'TELNETCONSOLE_ENABLED': False}
2025-08-01 15:43:48 [scrapy.middleware] INFO: Enabled downloader middlewares:
['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',
 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',
 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',
 'program_crawler.middlewares.RandomUserAgentMiddleware',
 'program_crawler.middlewares.BrowserHeadersMiddleware',
 'scrapy.downloadermiddlewares.retry.RetryMiddleware',
 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',
 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',
 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',
 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',
 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',
 'scrapy.downloadermiddlewares.stats.DownloaderStats']
2025-08-01 15:43:48 [scrapy.middleware] INFO: Enabled spider middlewares:
['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',
 'scrapy.spidermiddlewares.referer.RefererMiddleware',
 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',
 'scrapy.spidermiddlewares.depth.DepthMiddleware']
2025-08-01 15:43:48 [scrapy.middleware] INFO: Enabled item pipelines:
['program_crawler.pipelines.JsonWriterPipeline']
2025-08-01 15:43:48 [program_spider] INFO: 
================================================================================
2025-08-01 15:43:48 [program_spider] INFO: 开始爬取项目 [1/1]
2025-08-01 15:43:48 [program_spider] INFO: 项目名称: 曼彻斯特大学传染生物学理学硕士
2025-08-01 15:43:48 [program_spider] INFO: 项目ID: 4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9
2025-08-01 15:43:48 [program_spider] INFO: 根URL: https://www.manchester.ac.uk/study/masters/courses/list/18915/msc-infection-biology/
2025-08-01 15:43:48 [program_spider] INFO: 剩余项目数: 0
2025-08-01 15:43:48 [program_spider] INFO: ================================================================================
2025-08-01 15:43:48 [scrapy.core.engine] INFO: Spider opened
2025-08-01 15:43:48 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 正在处理根页面 (已处理0个页面): https://www.manchester.ac.uk/study/masters/courses/list/18915/msc-infection-biology/
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 页面总链接数: 206
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 移除导航后链接数: 49 (移除了 0 个导航链接)
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: https://www.manchester.ac.uk/ (锚文本: 'Home')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: https://www.manchester.ac.uk/study/ (锚文本: 'Study')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 无效链接: mailto:?subject=MSc%20Infection%20Biology%20%282025%20entry%29%20%7C%20The%20University%20of%20Manchester&body=https%3A%2F%2Fwww.manchester.ac.uk%2Fstudy%2Fmasters%2Fcourses%2Flist%2F18915%2Fmsc-infection-biology%2F%3Futm_campaign=uom%26utm_content=article%26utm_medium=social%26utm_source=email%0A%0D (锚文本: '')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.manchester.ac.uk%2Fstudy%2Fmasters%2Fcourses%2Flist%2F18915%2Fmsc-infection-biology%2F%3Futm_campaign=uom%26utm_content=article%26utm_medium=social%26utm_source=facebook (锚文本: '')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: http://www.facebook.com/dialog/send?app_id=1080012805396708&redirect_uri=https%3A%2F%2Fwww.manchester.ac.uk%2Fstudy%2Fmasters%2Fcourses%2Flist%2F18915%2Fmsc-infection-biology%2F%3Futm_campaign=uom%26utm_content=article%26utm_medium=social%26utm_source=facebook&link=https%3A%2F%2Fwww.manchester.ac.uk%2Fstudy%2Fmasters%2Fcourses%2Flist%2F18915%2Fmsc-infection-biology%2F%3Futm_campaign=uom%26utm_content=article%26utm_medium=social%26utm_source=facebook (锚文本: '')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: https://twitter.com/intent/tweet?text=MSc%20Infection%20Biology%20%282025%20entry%29%20%7C%20The%20University%20of%20Manchester.%0AFollow%20us%20at%20%40AdmissionsUoM&url=https%3A%2F%2Fwww.manchester.ac.uk%2Fstudy%2Fmasters%2Fcourses%2Flist%2F18915%2Fmsc-infection-biology%2F%3Futm_campaign=uom%26utm_content=article%26utm_medium=social%26utm_source=twitter (锚文本: '')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fwww.manchester.ac.uk%2Fstudy%2Fmasters%2Fcourses%2Flist%2F18915%2Fmsc-infection-biology%2F%3Futm_campaign=uom%26utm_content=article%26utm_medium=social%26utm_source=linkedin&title=MSc%20Infection%20Biology%20%282025%20entry%29%20%7C%20The%20University%20of%20Manchester (锚文本: '')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: http://pinterest.com/pin/create/button/?url=https%3A%2F%2Fwww.manchester.ac.uk%2Fstudy%2Fmasters%2Fcourses%2Flist%2F18915%2Fmsc-infection-biology%2F%3Futm_campaign=uom%26utm_content=article%26utm_medium=social%26utm_source=linkedin&media=https://assets.manchester.ac.uk/corporate/images/content/the-university-of-manchester-600x600.jpg&description=MSc%20Infection%20Biology%20%282025%20entry%29%20%7C%20The%20University%20of%20Manchester (锚文本: '')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: http://www.reddit.com/submit?url=https%3A%2F%2Fwww.manchester.ac.uk%2Fstudy%2Fmasters%2Fcourses%2Flist%2F18915%2Fmsc-infection-biology%2F%3Futm_campaign=uom%26utm_content=article%26utm_medium=social%26utm_source=reddit&title=MSc%20Infection%20Biology%20%282025%20entry%29%20%7C%20The%20University%20of%20Manchester (锚文本: '')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: https://www.manchester.ac.uk/ (锚文本: 'Home')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: https://www.manchester.ac.uk/study/ (锚文本: 'Study')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: https://www.manchester.ac.uk/study/masters/meet-us/ (锚文本: 'Attend an open day')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: https://www.bmh.manchester.ac.uk/study/biosciences/masters/ (锚文本: 'Discover more about Biosciences')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: https://www.manchester.ac.uk/study/masters/courses/list/18915/msc-infection-biology/all-content/ (锚文本: 'View full page')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: https://www.manchester.ac.uk/study/masters/courses/list/18915/msc-infection-biology/overview/ (锚文本: 'Overview')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: https://www.manchester.ac.uk/study/masters/courses/list/18915/msc-infection-biology/careers/ (锚文本: 'Careers')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: https://www.manchester.ac.uk/study/masters/meet-us/ (锚文本: 'Attend an open day')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: https://www.bmh.manchester.ac.uk/study/biosciences/masters/ (锚文本: 'Discover more about Biosciences')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: https://www.manchester.ac.uk/study/masters/meet-us/masters-information-sessions/ (锚文本: 'Open days')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: https://www.manchester.ac.uk/study/international/eu/ (锚文本: 'dedicated EU')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: https://www.bmh.manchester.ac.uk/ (锚文本: 'Faculty of Biology, Medicine and Health')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 无效链接: mailto:pgtaught.biosciences@manchester.ac.uk (锚文本: 'pgtaught.biosciences@manchester.ac.uk')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: https://www.manchester.ac.uk/study/masters/courses/list/?s=BS (锚文本: 'Biosciences')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: https://www.manchester.ac.uk/study/masters/courses/list/18915/msc-infection-biology/overview/ (锚文本: 'Overview')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: https://www.manchester.ac.uk/study/masters/courses/list/18915/msc-infection-biology/careers/ (锚文本: 'Careers')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: https://www.officeforstudents.org.uk/ (锚文本: 'OfS website')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 链接不匹配关键词: http://www.regulations.manchester.ac.uk/ (锚文本: 'regulations website')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 有效链接数: 46, 关键词匹配数: 21, 最终提取数: 21
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 页面 https://www.manchester.ac.uk/study/masters/courses/list/18915/msc-infection-biology/ (depth=0, is_root=True) 提取到 21 个链接
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 爬取子链接: https://www.manchester.ac.uk/study/masters/ (锚文本: 'Taught master's', 匹配关键词: 'master')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 爬取子链接: https://www.manchester.ac.uk/study/masters/courses/ (锚文本: 'Courses', 匹配关键词: 'course')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 爬取子链接: https://www.manchester.ac.uk/study/masters/courses/list/ (锚文本: 'A-Z list of courses', 匹配关键词: 'course')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 已跳过重复链接: https://www.manchester.ac.uk/study/masters/
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 已跳过重复链接: https://www.manchester.ac.uk/study/masters/courses/
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 已跳过重复链接: https://www.manchester.ac.uk/study/masters/courses/list/
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 爬取子链接: https://documents.manchester.ac.uk/display.aspx?DocID=68583&utm_source=courseprofile&utm_medium=website&utm_campaign=pg+bioscience+brochure&utm_content=infection+bio (锚文本: 'Download our course brochure', 匹配关键词: 'course')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 爬取子链接: https://www.manchester.ac.uk/study/masters/courses/list/18915/msc-infection-biology/entry-requirements/ (锚文本: 'Entry requirements', 匹配关键词: 'requirements')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 爬取子链接: https://www.manchester.ac.uk/study/masters/courses/list/18915/msc-infection-biology/application-and-selection/ (锚文本: 'Application and selection', 匹配关键词: 'application')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 爬取子链接: https://www.manchester.ac.uk/study/masters/courses/list/18915/msc-infection-biology/course-details/ (锚文本: 'Course details', 匹配关键词: 'course')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 已跳过重复链接: https://www.manchester.ac.uk/study/masters/courses/list/18915/msc-infection-biology/entry-requirements/
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 爬取子链接: http://www.manchester.ac.uk/study/masters/admissions/apply/ (锚文本: 'online application form.', 匹配关键词: 'application')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 已跳过重复链接: https://documents.manchester.ac.uk/display.aspx?DocID=68583&utm_source=courseprofile&utm_medium=website&utm_campaign=pg+bioscience+brochure&utm_content=infection+bio
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 爬取子链接: http://www.manchester.ac.uk/postgraduate/fees/ (锚文本: 'postgraduate fees.', 匹配关键词: 'graduate')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 爬取子链接: https://documents.manchester.ac.uk/display.aspx?DocID=19217 (锚文本: 'Policy on additional costs incurred by students on undergraduate and postgraduate taught programmes', 匹配关键词: 'graduate')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 爬取子链接: https://www.bmh.manchester.ac.uk/study/masters/fees-funding/ (锚文本: 'fees and funding page', 匹配关键词: 'funding')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 爬取子链接: https://www.manchester.ac.uk/study/international/finance-and-scholarships/funding/catherine-chisholm-scholarship/ (锚文本: 'the scholarship page', 匹配关键词: 'scholarship')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 爬取子链接: https://www.bmh.manchester.ac.uk/study/biosciences/masters/ (锚文本: 'https://www.bmh.manchester.ac.uk/study/biosciences/masters/', 匹配关键词: 'master')
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 已跳过重复链接: https://www.manchester.ac.uk/study/masters/courses/list/18915/msc-infection-biology/entry-requirements/
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 已跳过重复链接: https://www.manchester.ac.uk/study/masters/courses/list/18915/msc-infection-biology/application-and-selection/
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 已跳过重复链接: https://www.manchester.ac.uk/study/masters/courses/list/18915/msc-infection-biology/course-details/
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 添加 13 个新请求，当前剩余: 13
2025-08-01 15:43:49 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 已处理页面: 1, 剩余请求数: 13
2025-08-01 15:43:51 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 正在处理子页面(深度1) (已处理1个页面): https://www.manchester.ac.uk/study/masters/
2025-08-01 15:43:51 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 已处理页面: 2, 剩余请求数: 12
2025-08-01 15:43:51 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 正在处理子页面(深度1) (已处理2个页面): https://www.bmh.manchester.ac.uk/study/biosciences/masters/
2025-08-01 15:43:51 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 已处理页面: 3, 剩余请求数: 11
2025-08-01 15:43:51 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 正在处理子页面(深度1) (已处理3个页面): https://documents.manchester.ac.uk/display.aspx?DocID=19217
2025-08-01 15:43:51 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 跳过非HTML内容: https://documents.manchester.ac.uk/display.aspx?DocID=19217
2025-08-01 15:43:51 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 剩余请求数: 10
2025-08-01 15:43:51 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 正在处理子页面(深度1) (已处理4个页面): https://www.bmh.manchester.ac.uk/study/masters/fees-funding/
2025-08-01 15:43:51 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 已处理页面: 5, 剩余请求数: 9
2025-08-01 15:43:53 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 正在处理子页面(深度1) (已处理5个页面): https://www.manchester.ac.uk/study/international/finance-and-scholarships/funding/catherine-chisholm...
2025-08-01 15:43:53 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 已处理页面: 6, 剩余请求数: 8
2025-08-01 15:43:59 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 正在处理子页面(深度1) (已处理6个页面): https://www.manchester.ac.uk/study/masters/courses/list/18915/msc-infection-biology/course-details/
2025-08-01 15:43:59 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 已处理页面: 7, 剩余请求数: 7
2025-08-01 15:44:01 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 正在处理子页面(深度1) (已处理7个页面): https://www.manchester.ac.uk/study/masters/courses/list/18915/msc-infection-biology/application-and-...
2025-08-01 15:44:01 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 已处理页面: 8, 剩余请求数: 6
2025-08-01 15:44:03 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 正在处理子页面(深度1) (已处理8个页面): https://www.manchester.ac.uk/study/masters/courses/list/18915/msc-infection-biology/entry-requiremen...
2025-08-01 15:44:03 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 已处理页面: 9, 剩余请求数: 5
2025-08-01 15:44:05 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 正在处理子页面(深度1) (已处理9个页面): https://www.manchester.ac.uk/study/masters/courses/list/
2025-08-01 15:44:05 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 已处理页面: 10, 剩余请求数: 4
2025-08-01 15:44:07 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 正在处理子页面(深度1) (已处理10个页面): https://www.manchester.ac.uk/study/masters/courses/
2025-08-01 15:44:07 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 已处理页面: 11, 剩余请求数: 3
2025-08-01 15:44:17 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 正在处理子页面(深度1) (已处理11个页面): https://www.manchester.ac.uk/study/postgraduate/fees/
2025-08-01 15:44:17 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 已处理页面: 12, 剩余请求数: 2
2025-08-01 15:44:19 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 正在处理子页面(深度1) (已处理12个页面): https://www.manchester.ac.uk/study/masters/admissions/how-to-apply/
2025-08-01 15:44:19 [program_spider] INFO: [4906b8dc-5a21-43b2-ae7f-975ec7ccc0e9] 已处理页面: 13, 剩余请求数: 1
2025-08-01 15:44:48 [scrapy.extensions.logstats] INFO: Crawled 13 pages (at 13 pages/min), scraped 0 items (at 0 items/min)
2025-08-01 15:45:48 [scrapy.extensions.logstats] INFO: Crawled 13 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2025-08-01 15:45:51 [scrapy.downloadermiddlewares.retry] ERROR: Gave up retrying <GET https://documents.manchester.ac.uk/display.aspx?DocID=68583&utm_source=courseprofile&utm_medium=website&utm_campaign=pg+bioscience+brochure&utm_content=infection+bio> (failed 4 times): User timeout caused connection failure: Getting https://documents.manchester.ac.uk/display.aspx?DocID=68583&utm_source=courseprofile&utm_medium=website&utm_campaign=pg+bioscience+brochure&utm_content=infection+bio took longer than 30.0 seconds..
2025-08-01 15:45:51 [scrapy.core.engine] INFO: Error while handling downloader output
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.12/site-packages/twisted/internet/defer.py", line 1075, in _runCallbacks
    current.result = callback(  # type: ignore[misc]
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/scrapy/core/engine.py", line 263, in _handle_downloader_output
    d = self.scraper.enqueue_scrape(result, request, self.spider)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/scrapy/core/scraper.py", line 163, in enqueue_scrape
    self._scrape_next(spider)
  File "/opt/anaconda3/lib/python3.12/site-packages/scrapy/core/scraper.py", line 170, in _scrape_next
    self._scrape(response, request, spider).chainDeferred(deferred)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/scrapy/core/scraper.py", line 182, in _scrape
    dfd = self._scrape2(
          ^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/scrapy/core/scraper.py", line 200, in _scrape2
    dfd = self.call_spider(result, request, spider)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/scrapy/core/scraper.py", line 220, in call_spider
    warn_on_generator_with_return_value(spider, request.errback)
  File "/opt/anaconda3/lib/python3.12/site-packages/scrapy/utils/misc.py", line 281, in warn_on_generator_with_return_value
    if is_generator_with_return_value(callable):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/scrapy/utils/misc.py", line 257, in is_generator_with_return_value
    src = inspect.getsource(func)
          ^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/inspect.py", line 1285, in getsource
    lines, lnum = getsourcelines(object)
                  ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/inspect.py", line 1277, in getsourcelines
    return getblock(lines[lnum:]), lnum + 1
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/inspect.py", line 1244, in getblock
    for _token in tokens:
                  ^^^^^^
  File "/opt/anaconda3/lib/python3.12/tokenize.py", line 582, in _generate_tokens_from_c_tokenizer
    raise TokenError(msg, (e.lineno, e.offset)) from None
tokenize.TokenError: ('unexpected EOF in multi-line statement', (546, 0))
2025-08-01 15:45:51 [twisted] CRITICAL: Unhandled error in Deferred:
2025-08-01 15:45:51 [twisted] CRITICAL: 
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.12/site-packages/twisted/internet/defer.py", line 1996, in _inlineCallbacks
    result = context.run(
  File "/opt/anaconda3/lib/python3.12/site-packages/twisted/python/failure.py", line 519, in throwExceptionIntoGenerator
    return g.throw(self.type, self.value, self.tb)
  File "/opt/anaconda3/lib/python3.12/site-packages/scrapy/core/downloader/middleware.py", line 54, in process_request
    return (yield download_func(request=request, spider=spider))
  File "/opt/anaconda3/lib/python3.12/site-packages/twisted/internet/defer.py", line 1075, in _runCallbacks
    current.result = callback(  # type: ignore[misc]
  File "/opt/anaconda3/lib/python3.12/site-packages/scrapy/core/downloader/handlers/http11.py", line 397, in _cb_timeout
    raise TimeoutError(f"Getting {url} took longer than {timeout} seconds.")
twisted.internet.error.TimeoutError: User timeout caused connection failure: Getting https://documents.manchester.ac.uk/display.aspx?DocID=68583&utm_source=courseprofile&utm_medium=website&utm_campaign=pg+bioscience+brochure&utm_content=infection+bio took longer than 30.0 seconds..
2025-08-01 15:46:48 [scrapy.extensions.logstats] INFO: Crawled 13 pages (at 0 pages/min), scraped 0 items (at 0 items/min)
2025-08-01 15:47:31 [scrapy.crawler] INFO: Received SIGINT, shutting down gracefully. Send again to force 
2025-08-01 15:47:31 [scrapy.core.engine] INFO: Closing spider (shutdown)
2025-08-01 15:47:31 [scrapy.crawler] INFO: Received SIGINT twice, forcing unclean shutdown
