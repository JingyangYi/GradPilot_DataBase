# ç½‘é¡µå†…å®¹ä»·å€¼åˆ†ç±»å™¨ - æœ€ç»ˆç‰ˆæœ¬

## å¿«é€Ÿå¼€å§‹

### 1. è®­ç»ƒæ¨¡åž‹
```bash
python train_xgboost_final.py
```

### 2. ä½¿ç”¨æ¨¡åž‹
```python
from use_xgboost_classifier import XGBoostWebpageClassifier

classifier = XGBoostWebpageClassifier()
result = classifier.classify("webpage content here")

print(f"æ˜¯å¦æœ‰ä»·å€¼: {result['is_valuable']}")
print(f"ç½®ä¿¡åº¦: {result['confidence']:.3f}")
```

## é¡¹ç›®ç»“æž„

```
classifier/
â”œâ”€â”€ ðŸ“„ README_FINAL.md              # æœ¬æ–‡ä»¶
â”œâ”€â”€ ðŸ“„ MODEL_SELECTION.md           # è¯¦ç»†çš„æ¨¡åž‹é€‰æ‹©è¯´æ˜Ž
â”œâ”€â”€ 
â”œâ”€â”€ ðŸ”§ train_xgboost_final.py       # ç‹¬ç«‹è®­ç»ƒè„šæœ¬
â”œâ”€â”€ ðŸ”§ use_xgboost_classifier.py    # æ¨¡åž‹åº”ç”¨æŽ¥å£
â”œâ”€â”€ 
â”œâ”€â”€ ðŸ“Š xgboost_best_classifier.joblib    # æœ€ä½³æ¨¡åž‹æ–‡ä»¶
â”œâ”€â”€ ðŸ“Š training_data_unified.json        # è®­ç»ƒæ•°æ®
â”œâ”€â”€ 
â””â”€â”€ ðŸ“ data_20250812/               # åŽŸå§‹æ ‡æ³¨æ•°æ®
    â”œâ”€â”€ classifier_training_data_part1_labeled.json
    â”œâ”€â”€ classifier_training_data_part2_labeled.json
    â””â”€â”€ classifier_training_data_part3_labeled.json
```

## æ¨¡åž‹æ€§èƒ½

ðŸŽ¯ **æ ¸å¿ƒæŒ‡æ ‡**
- âœ… **å¬å›žçŽ‡**: 95.7% (å‡ ä¹Žä¸é”™è¿‡æœ‰ä»·å€¼é¡µé¢)
- âœ… **ç²¾ç¡®çŽ‡**: 96.4% (å¾ˆå°‘è¯¯åˆ¤)
- âœ… **å‡è´Ÿä¾‹**: ä»…18ä¸ª (é”™è¿‡çš„æœ‰ä»·å€¼é¡µé¢)
- âœ… **F1åˆ†æ•°**: 96.0%

ðŸ“Š **è¯¦ç»†æ€§èƒ½**
```
              precision    recall  f1-score   support
    æ— ä»·å€¼       0.96      0.97      0.96       437
    æœ‰ä»·å€¼       0.96      0.96      0.96       419
    
    accuracy                         0.96       856
```

## æ¨¡åž‹ç‰¹ç‚¹

### âœ… ä¼˜åŠ¿
1. **é«˜å¬å›žçŽ‡**: 95.7%ï¼Œæ»¡è¶³"ç»ä¸æ”¾è¿‡æœ‰ä»·å€¼é¡µé¢"çš„éœ€æ±‚
2. **é«˜ç²¾ç¡®çŽ‡**: 96.4%ï¼Œè¯¯åˆ¤çŽ‡å¾ˆä½Ž
3. **å¼ºæ³›åŒ–æ€§**: å¤„ç†æœªè§è¯æ±‡çš„èƒ½åŠ›å¼º
4. **å¿«é€Ÿéƒ¨ç½²**: å•æ–‡ä»¶æ¨¡åž‹ï¼Œæ˜“äºŽé›†æˆ

### âš ï¸ æ³¨æ„äº‹é¡¹
1. **æ–°é¢†åŸŸé€‚åº”**: åŒ…å«å¤§é‡ä¸“ä¸šæœ¯è¯­çš„æ–°é¢†åŸŸå¯èƒ½éœ€è¦é‡æ–°è®­ç»ƒ
2. **ç½®ä¿¡åº¦ç›‘æŽ§**: å»ºè®®ç›‘æŽ§é¢„æµ‹ç½®ä¿¡åº¦ï¼Œå¯¹ä½Žç½®ä¿¡åº¦ç»“æžœäººå·¥å®¡æ ¸
3. **å®šæœŸæ›´æ–°**: å»ºè®®æ¯å­£åº¦ç”¨æ–°æ•°æ®é‡æ–°è®­ç»ƒ

## æŠ€æœ¯ç»†èŠ‚

### ðŸ§  æ¨¡åž‹æž¶æž„
- **ç‰¹å¾æå–**: TF-IDF (12000ç‰¹å¾, 1-2gram)
- **åˆ†ç±»å™¨**: XGBoost (200æ£µæ ‘)
- **ä¼˜åŒ–é˜ˆå€¼**: 0.780 (é™ä½Žå‡è´Ÿä¾‹)

### ðŸ”§ å…³é”®å‚æ•°
```python
# TF-IDF
max_features=12000, ngram_range=(1,2), min_df=2

# XGBoost  
n_estimators=200, max_depth=7, learning_rate=0.08,
scale_pos_weight=2.2, reg_alpha=0.1, reg_lambda=1
```

## ä½¿ç”¨åœºæ™¯

### âœ… é€‚ç”¨åœºæ™¯
- ç ”ç©¶ç”Ÿé¡¹ç›®ç½‘é¡µå†…å®¹ç­›é€‰
- ç”³è¯·ä¿¡æ¯vsæ— å…³ä¿¡æ¯åˆ†ç±»
- æ•™è‚²ç½‘ç«™å†…å®¹ä»·å€¼åˆ¤æ–­
- è‡ªåŠ¨åŒ–å†…å®¹å®¡æ ¸

### ðŸ“ åˆ†ç±»ç¤ºä¾‹
| å†…å®¹ç±»åž‹ | åˆ¤æ–­ç»“æžœ | ç½®ä¿¡åº¦ |
|---------|---------|--------|
| ç”³è¯·è¦æ±‚ | âœ… æœ‰ä»·å€¼ | 0.86 |
| è¯¾ç¨‹ä¿¡æ¯ | âŒ æ— ä»·å€¼ | 0.39 |
| è”ç³»ä¿¡æ¯ | âŒ æ— ä»·å€¼ | 0.30 |
| å¥–å­¦é‡‘ä¿¡æ¯ | âœ… æœ‰ä»·å€¼ | 0.82 |

## æœªè§Tokenå¤„ç†

### ðŸ” é—®é¢˜è¯´æ˜Ž
å®žé™…ä½¿ç”¨ä¸­å¯èƒ½é‡åˆ°è®­ç»ƒæ—¶æœªè§è¿‡çš„è¯æ±‡ï¼ˆæ–°æœ¯è¯­ã€æœºæž„åç­‰ï¼‰ã€‚

### âœ… è§£å†³æ–¹æ¡ˆ
1. **TF-IDFæœºåˆ¶**: è‡ªåŠ¨å¿½ç•¥æœªè§è¯æ±‡ï¼Œä¸ä¼šæŠ¥é”™
2. **å·²çŸ¥è¯ä¾èµ–**: ä¸»è¦ä¾èµ–å·²çŸ¥é‡è¦ç‰¹å¾è¯åˆ¤æ–­
3. **N-gramç‰¹å¾**: é€šè¿‡è¯æ±‡æ­é…å‡å°‘å•è¯ä¾èµ–
4. **å¤§è¯æ±‡è¡¨**: 12000ç‰¹å¾è¦†ç›–å¸¸è§è¯æ±‡

### ðŸ“Š æµ‹è¯•ç»“æžœ
- **æ­£å¸¸æ–‡æœ¬**: é¢„æµ‹å¯é ï¼Œç½®ä¿¡åº¦0.86+
- **å°‘é‡æ–°è¯**: åŸºæœ¬ä¸å—å½±å“ï¼Œç½®ä¿¡åº¦0.8+  
- **å¤§é‡æ–°è¯**: ç½®ä¿¡åº¦ä¸‹é™ä½†ä¸å´©æºƒï¼Œç½®ä¿¡åº¦0.3+
- **å…¨æ–°è¯æ±‡**: è¿”å›žé»˜è®¤åˆ¤æ–­ï¼Œå»ºè®®äººå·¥å®¡æ ¸

## éƒ¨ç½²æŒ‡å—

### ðŸš€ ç”Ÿäº§çŽ¯å¢ƒ
```python
import joblib

# åŠ è½½æ¨¡åž‹
model_data = joblib.load('xgboost_best_classifier.joblib')
model = model_data['model']
threshold = model_data['threshold']  # 0.780

# åˆ†ç±»å‡½æ•°
def classify_webpage(content):
    prob = model.predict_proba([content])[0][1]
    is_valuable = prob >= threshold
    
    return {
        'is_valuable': is_valuable,
        'confidence': prob,
        'recommendation': 'review' if prob < 0.6 else 'confident'
    }
```

### ðŸ“ˆ ç›‘æŽ§å»ºè®®
1. **é¢„æµ‹ç½®ä¿¡åº¦åˆ†å¸ƒ**: æ­£å¸¸åº”é›†ä¸­åœ¨é«˜ç½®ä¿¡åº¦åŒºé—´
2. **å‡è´Ÿä¾‹ç›‘æŽ§**: æ ¸å¿ƒæŒ‡æ ‡ï¼Œåº”ä¿æŒ<5%
3. **äººå·¥åé¦ˆ**: æ”¶é›†é”™è¯¯æ¡ˆä¾‹æŒç»­æ”¹è¿›
4. **æ–°è¯æ±‡ç›‘æŽ§**: å†³å®šé‡è®­ç»ƒæ—¶æœº

## å¼€å‘åŽ†ç¨‹

### ðŸ”¬ æ¨¡åž‹é€‰æ‹©è¿‡ç¨‹
1. **Logistic Regression**: åŸºçº¿æ¨¡åž‹ï¼Œ87%å‡†ç¡®çŽ‡
2. **Random Forest**: æ”¹è¿›ç‰ˆæœ¬ï¼Œ95.5%å¬å›žçŽ‡
3. **Support Vector Machine**: å¤‡é€‰æ–¹æ¡ˆï¼Œ95%å¬å›žçŽ‡  
4. **XGBoost**: æœ€ç»ˆé€‰æ‹©ï¼Œ95.7%å¬å›žçŽ‡ + 96.4%ç²¾ç¡®çŽ‡

### ðŸŽ¯ ä¼˜åŒ–è¿‡ç¨‹
1. **ç±»åˆ«æƒé‡è°ƒæ•´**: å¤„ç†æ ·æœ¬ä¸å¹³è¡¡
2. **ç‰¹å¾å·¥ç¨‹**: TF-IDFå‚æ•°ä¼˜åŒ–
3. **é˜ˆå€¼è°ƒä¼˜**: ä»Ž0.5ä¼˜åŒ–åˆ°0.78
4. **æ­£åˆ™åŒ–**: é˜²æ­¢è¿‡æ‹Ÿåˆ
5. **äº¤å‰éªŒè¯**: ç¡®ä¿æ¨¡åž‹ç¨³å®šæ€§

## FAQ

**Q: ä¸ºä»€ä¹ˆé€‰æ‹©XGBoostè€Œä¸æ˜¯æ·±åº¦å­¦ä¹ ï¼Ÿ**
A: å¯¹äºŽè¿™ä¸ªä¸­ç­‰è§„æ¨¡çš„æ–‡æœ¬åˆ†ç±»é—®é¢˜ï¼ŒXGBoostæä¾›äº†æœ€ä½³çš„æ€§èƒ½/å¤æ‚åº¦å¹³è¡¡ï¼Œè®­ç»ƒå¿«é€Ÿä¸”æ˜“äºŽéƒ¨ç½²ã€‚

**Q: å¦‚ä½•å¤„ç†éžè‹±æ–‡å†…å®¹ï¼Ÿ**
A: å½“å‰æ¨¡åž‹é’ˆå¯¹è‹±æ–‡ä¼˜åŒ–ã€‚å¯¹äºŽå…¶ä»–è¯­è¨€ï¼Œéœ€è¦é‡æ–°è®­ç»ƒæˆ–ä½¿ç”¨å¤šè¯­è¨€é¢„å¤„ç†ã€‚

**Q: æ¨¡åž‹å¤šä¹…éœ€è¦é‡æ–°è®­ç»ƒï¼Ÿ**
A: å»ºè®®æ¯å­£åº¦è¯„ä¼°ä¸€æ¬¡ã€‚å¦‚æžœå‡è´Ÿä¾‹çŽ‡ä¸Šå‡æˆ–ç½®ä¿¡åº¦æ˜¾è‘—ä¸‹é™ï¼Œåˆ™éœ€è¦é‡æ–°è®­ç»ƒã€‚

**Q: å¦‚ä½•æ‰©å±•åˆ°å…¶ä»–é¢†åŸŸï¼Ÿ**
A: æ”¶é›†ç›®æ ‡é¢†åŸŸçš„æ ‡æ³¨æ•°æ®ï¼Œä½¿ç”¨çŽ°æœ‰æ¨¡åž‹ä½œä¸ºé¢„è®­ç»ƒåŸºç¡€è¿›è¡Œå¾®è°ƒã€‚

## è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚

---

ðŸ“ž **æŠ€æœ¯æ”¯æŒ**: å¦‚æœ‰é—®é¢˜è¯·æŸ¥çœ‹ `MODEL_SELECTION.md` èŽ·å–è¯¦ç»†æŠ€æœ¯è¯´æ˜Žã€‚